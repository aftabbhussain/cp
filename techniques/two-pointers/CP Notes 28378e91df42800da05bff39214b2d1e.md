# CP Notes

# Priority Queue

---

Priority queue is a queue in which elments are served (inserted, deleted, peeked) according to their priority.

The priority can be defined by us, usually the element’s value is considered to the priority parameter.

Priority queue can be implemented using Arrays, Linked List, Heaps(ideal) or AVL tree.

### STL Priority queue

A Priority Queue adds and removes elements according to priority.

- Internally uses [**heap data structure**](https://www.geeksforgeeks.org/dsa/heap-data-structure/).
- Uses a max heap by default, higher its value, higher its priority. But this can be changed to any desired priority scheme by providing a custom comparison.

# Binary Search

---

- while(r - l > 1) → this stops when r = l+1 i.e there are only two elements remaning in the search space, its better to use this method, also its better to initialize l = -1 and r = n(past n-1) for better clarity as mid will always be 0 ≤ mid ≤ n-1. →we are shrinking our the search interval until the search interval only has two elements.
- Example - Upper bound

```jsx
... // a sorted array is stored as a[0], a[1], ..., a[n-1]
int l = -1, r = n;
while (r - l > 1) {
    int m = (l + r) / 2;
    if (k < a[m]) {
        r = m; // a[l] <= k < a[m] <= a[r]
    } else {
        l = m; // a[l] <= a[m] <= k < a[r]
    }
}
```

here r is always pointing to the element which is > k and l is always pointing to the element which is ≤ k.

After the loop:

l → largest index such that a[l] <= k.

r → smallest index such that a[r] > k (or n if k ≥ all elements).

- lower_bound invariant = a[l] < target <= a[r]
upper_bound invariant = a[l] <= target < a[r]
- In Binary search , always think in terms of eliminating either the left or right half

Q → https://codeforces.com/problemset/problem/670/D1

Here we setup the invariants such that l is always a valid(true) and r is always false, at the termination l is the maximum true

### Lambda Expressions

We use lambda expressions for defining the helper functions for binary search

![image.png](image.png)